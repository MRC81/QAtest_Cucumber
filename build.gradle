plugins {
    id 'java'
}

group 'tst.test'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

def selenideVersion = "5.23.2",
    junitVersion = "5.7.2",
    cucumberVersion = "6.11.0"

dependencies {
    implementation ("org.junit.jupiter:junit-jupiter-api:$junitVersion",
            "org.junit.jupiter:junit-jupiter-params:$junitVersion",
            "com.codeborne:selenide:$selenideVersion",
            "io.cucumber:cucumber-java:$cucumberVersion",
            "io.cucumber:cucumber-junit:$cucumberVersion",
            "io.cucumber:cucumber-picocontainer:$cucumberVersion",
            "org.slf4j:slf4j-simple:1.7.32"
    )

    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.2'
}

task deleteCucumberReports(type: Delete) {
    dependsOn(clean)

    delete 'out', 'target', 'build'
}

test {
    //useJUnitPlatform()
    systemProperties(System.getProperties())
}

//task runTests (type: Test) {
//    dependsOn(deleteCucumberReports)
//
////    systemProperty 'selenide.browser', System.getProperty('selenide.browser')
////    systemProperty 'selenide.headless', System.getProperty('selenide.headless')
//    systemProperties(System.getProperties())
//}

//task chrome(type: Test) {
//    dependsOn(deleteCucumberReports)
//    systemProperties['selenide.browser'] = 'chrome'
//    systemProperties(System.getProperties())
//}
//
//task firefox(type: Test) {
//    dependsOn(deleteCucumberReports)
//    systemProperties['selenide.browser'] = 'firefox'
//    systemProperties(System.getProperties())
//}
//
//task edge(type: Test) {
//    dependsOn(deleteCucumberReports)
//    systemProperties['selenide.browser'] = 'edge'
//    systemProperties(System.getProperties())
//}

